{"version":3,"sources":["./src/app/myPages/member-points/member-points.page.html","./src/app/myPages/member-points/member-points-routing.module.ts","./src/app/myPages/member-points/member-points.module.ts","./src/app/myPages/member-points/member-points.page.scss","./src/app/myPages/member-points/member-points.page.ts"],"names":[],"mappings":"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","file":"myPages-member-points-member-points-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div style=\\\"height: 30%\\\">\\n    <img src=\\\"assets/bug.jpeg\\\" style=\\\"width: 100%; height: 100%\\\" alt=\\\"\\\" />\\n  </div>\\n\\n  <div class=\\\"spinner\\\" *ngIf=\\\"loading\\\"><ion-spinner> </ion-spinner></div>\\n\\n  <div *ngIf=\\\"!loading\\\" class=\\\"ion-margin ion-padding\\\">\\n    <ion-row>\\n      <ion-col size=\\\"12\\\">\\n        <p>Name : {{userName}}</p>\\n        <p>Reference ID : {{base64_ref}}</p>\\n      </ion-col>\\n      <!-- <ion-col size=\\\"3\\\"></ion-col> -->\\n    </ion-row>\\n    <ion-row style=\\\"font-size: 15px; font-weight: 700\\\">\\n      <ion-col size=\\\"5\\\">\\n        <div class=\\\"pentagon\\\">\\n          <div style=\\\"display: grid; justify-items: center\\\">\\n            <span>{{validPoints}}</span>\\n            <span>Available points</span>\\n          </div>\\n        </div>\\n      </ion-col>\\n      <ion-col size=\\\"7\\\">\\n        <div\\n          style=\\\"\\n            display: grid;\\n            justify-content: center;\\n            align-items: center;\\n            grid-gap: 8px;\\n            grid-template-columns: 100%;\\n            margin-top: 22px;\\n          \\\"\\n        >\\n          <div class=\\\"add-btn\\\" (click)=\\\"enterPassword()\\\">Add</div>\\n          <div class=\\\"valid-btn\\\">{{availblePoints}} Valid points</div>\\n        </div>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col>\\n        <div class=\\\"add-btn\\\" style=\\\"margin-top:20px\\\" (click)=\\\"redeem()\\\">Redeem</div>\\n      </ion-col>\\n    </ion-row>\\n    \\n  </div>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MemberPointsPage } from './member-points.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MemberPointsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MemberPointsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MemberPointsPageRoutingModule } from './member-points-routing.module';\n\nimport { MemberPointsPage } from './member-points.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MemberPointsPageRoutingModule\n  ],\n  declarations: [MemberPointsPage]\n})\nexport class MemberPointsPageModule {}\n","export default \".pentagon {\\n  -webkit-clip-path: polygon(50% 0%, 100% 30%, 100% 75%, 50% 100%, 0% 75%, 0% 28%);\\n  clip-path: polygon(50% 0%, 100% 30%, 100% 75%, 50% 100%, 0% 75%, 0% 28%);\\n  background: #e342e6;\\n  height: 131px;\\n  width: 100%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.valid-btn {\\n  background: #3880ff;\\n  padding: 14px 2px;\\n  display: flex;\\n  justify-content: center;\\n  width: 100%;\\n}\\n\\n.add-btn {\\n  background: #cf42e6de;\\n  padding: 14px 2px;\\n  display: flex;\\n  justify-content: center;\\n  width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbXlQYWdlcy9tZW1iZXItcG9pbnRzL0Q6XFxsdXhlLi4uIGRlYnVnIDkgT0NUL3NyY1xcYXBwXFxteVBhZ2VzXFxtZW1iZXItcG9pbnRzXFxtZW1iZXItcG9pbnRzLnBhZ2Uuc2NzcyIsInNyYy9hcHAvbXlQYWdlcy9tZW1iZXItcG9pbnRzL21lbWJlci1wb2ludHMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0ZBQUE7RUFRQSx3RUFBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQTtFQUNBLFdBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtBQ05GOztBRFFBO0VBQ0UsbUJBQUE7RUFDQSxpQkFBQTtFQUNBLGFBQUE7RUFDQSx1QkFBQTtFQUNBLFdBQUE7QUNMRjs7QURPQTtFQUNFLHFCQUFBO0VBQ0EsaUJBQUE7RUFDQSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxXQUFBO0FDSkYiLCJmaWxlIjoic3JjL2FwcC9teVBhZ2VzL21lbWJlci1wb2ludHMvbWVtYmVyLXBvaW50cy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucGVudGFnb24ge1xuICAtd2Via2l0LWNsaXAtcGF0aDogcG9seWdvbihcbiAgICA1MCUgMCUsXG4gICAgMTAwJSAzMCUsXG4gICAgMTAwJSA3NSUsXG4gICAgNTAlIDEwMCUsXG4gICAgMCUgNzUlLFxuICAgIDAlIDI4JVxuICApO1xuICBjbGlwLXBhdGg6IHBvbHlnb24oNTAlIDAlLCAxMDAlIDMwJSwgMTAwJSA3NSUsIDUwJSAxMDAlLCAwJSA3NSUsIDAlIDI4JSk7XG4gIGJhY2tncm91bmQ6ICNlMzQyZTY7XG4gIGhlaWdodDogMTMxcHg7XG4gIHdpZHRoOiAxMDAlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cbi52YWxpZC1idG4ge1xuICBiYWNrZ3JvdW5kOiAjMzg4MGZmO1xuICBwYWRkaW5nOiAxNHB4IDJweDtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIHdpZHRoOiAxMDAlO1xufVxuLmFkZC1idG4ge1xuICBiYWNrZ3JvdW5kOiAjY2Y0MmU2ZGU7XG4gIHBhZGRpbmc6IDE0cHggMnB4O1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgd2lkdGg6IDEwMCU7XG59XG4iLCIucGVudGFnb24ge1xuICAtd2Via2l0LWNsaXAtcGF0aDogcG9seWdvbig1MCUgMCUsIDEwMCUgMzAlLCAxMDAlIDc1JSwgNTAlIDEwMCUsIDAlIDc1JSwgMCUgMjglKTtcbiAgY2xpcC1wYXRoOiBwb2x5Z29uKDUwJSAwJSwgMTAwJSAzMCUsIDEwMCUgNzUlLCA1MCUgMTAwJSwgMCUgNzUlLCAwJSAyOCUpO1xuICBiYWNrZ3JvdW5kOiAjZTM0MmU2O1xuICBoZWlnaHQ6IDEzMXB4O1xuICB3aWR0aDogMTAwJTtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG5cbi52YWxpZC1idG4ge1xuICBiYWNrZ3JvdW5kOiAjMzg4MGZmO1xuICBwYWRkaW5nOiAxNHB4IDJweDtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4uYWRkLWJ0biB7XG4gIGJhY2tncm91bmQ6ICNjZjQyZTZkZTtcbiAgcGFkZGluZzogMTRweCAycHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICB3aWR0aDogMTAwJTtcbn0iXX0= */\"","import { HttpClient } from \"@angular/common/http\";\nimport { Component, OnInit } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { LoadingController, NavController } from \"@ionic/angular\";\nimport { SettingPage } from \"src/app/account/setting/setting.page\";\nimport { ApiService } from \"src/app/api.service\";\nimport { Settings } from \"src/app/data/settings\";\n\n@Component({\n  selector: \"app-member-points\",\n  templateUrl: \"./member-points.page.html\",\n  styleUrls: [\"./member-points.page.scss\"],\n})\nexport class MemberPointsPage implements OnInit {\n  loading = true;\n  isLoaded = false;\n  userName: any;\n  array = [];\n  validArray = [];\n  points: any;\n  allPoints: any;\n  validPoints: any;\n  availblePoints: any;\n  base64_ref: any;\n  constructor(\n    private nav: NavController,\n    private router:Router,\n    public api: ApiService,\n    private http: HttpClient,\n    private settings: Settings,\n    public loadingCtrl: LoadingController\n  ) {\n    this.userName = localStorage.getItem(\"user_name\");\n  }\n\n  async ngOnInit() {}\n\n  async ionViewWillEnter() {\n    const loading = await this.loadingCtrl.create({\n      cssClass: \"my-custom-class\",\n      message: \"Please wait...\",\n    });\n    loading.present();\n\n    console.log(\n      \"user id is: \",\n      this.settings.customer.id,\n      btoa(this.settings.customer.id)\n    );\n    this.base64_ref = btoa(this.settings.customer.id);\n    //this.isLoaded = false;\n\n    this.array = [];\n    this.validArray = [];\n    console.log(\n      \"url is: \",\n      \"https://luxefragrancebar.com/wp-admin/admin-ajax.php?action=eg_valid_points&ref_id=\" +\n        btoa(this.settings.customer.id)\n    );\n    this.http\n      .get(\n        \"https://luxefragrancebar.com/wp-admin/admin-ajax.php?action=eg_valid_points&ref_id=\" +\n          btoa(this.settings.customer.id)\n      )\n      .subscribe(async (validPoints: any) => {\n        this.http\n          .get(\n            \"https://luxefragrancebar.com/wp-admin/admin-ajax.php?action=eg_all_points&ref_id=\" +\n              btoa(this.settings.customer.id)\n          )\n          .subscribe(async (res: any) => {\n            console.log(\"valid points are: \", validPoints.valid_points);\n            console.log(\"The all points: \", res.all_points);\n            if(res.all_points==\"\"){\n              this.allPoints = 0;\n            }\n            else{\n              this.allPoints = res.all_points;\n            }\n           \n            this.points = res;\n            this.loading = false;\n            //this.isLoaded = true;\n\n            loading.dismiss();\n\n            this.validArray =\n              validPoints.valid_points > 0\n                ? Array(Number(validPoints.valid_points)).fill(0)\n                : [];\n            let remaingin =\n              Number(res.all_points) - Number(validPoints.valid_points);\n            console.log(\"remaingin\", remaingin);\n            for (var i = 0; i < remaingin; i++) {\n              let obj = {\n                value: i,\n              };\n\n              this.array.push(obj);\n            }\n            this.validPoints =\n              Number(res.all_points) - Number(validPoints.valid_points);\n            this.availblePoints = validPoints.valid_points;\n            /*  this.array = Array(\n                  Number(res.all_points) - Number(validPoints.valid_points)\n                ).fill(0); */\n            console.log(\n              \"arrays lengths are: \",\n              this.validPoints,\n              this.availblePoints\n            );\n          });\n      });\n  }\n\n  enterPassword() {\n    console.log(\"asdsadasdasdasdasdasd\",this.array.length);\n    this.nav.navigateForward([\n      \"enter-password\",\n      { points: this.array.length, allPoints: this.allPoints },\n    ]);\n   \n  }\n  redeem() {\n    console.log(\"asdsadasdasdasdasdasd\",this.array.length);\n    this.nav.navigateForward([\n      \"redeem\",\n      { points: this.array.length, allPoints: this.allPoints },\n    ]);\n   \n  }\n}\n"],"sourceRoot":"webpack:///"}